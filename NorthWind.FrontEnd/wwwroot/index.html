<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facturación - Ventana Principal</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- =======================
         Ventana Principal: Facturación
         ======================= -->
    <div class="facturacion">
        <h1>Facturación</h1>

        <!-- Maestro: Cliente -->
        <div class="maestro-cliente">
            <label for="clienteNombre">Cliente:</label>

            <!-- ID del cliente (solo lectura, NO editable) -->
            <input type="text" id="clienteId" placeholder="ID del cliente" readonly>

            <!-- Nombre del cliente (solo lectura) -->
            <input type="text" id="clienteNombre" placeholder="Nombre del cliente" readonly>

            <!-- Email del cliente (solo lectura) -->
            <input type="text" id="clienteEmail" placeholder="Email del cliente" readonly>

            <!-- Botón de búsqueda -->
            <button id="btnBuscarCliente">Buscar Cliente</button>
        </div>

        <!-- Información de envío ASKED BY THE API -->
        <div class="envio-container">
            <h3>Datos de Envío</h3>

            <label>Dirección:</label>
            <input type="text" id="shipAddress" placeholder="Dirección de envío" required>

            <label>Ciudad:</label>
            <input type="text" id="shipCity" placeholder="Ciudad" required>

            <label>País:</label>
            <input type="text" id="shipCountry" placeholder="País" required>

            <label>Código Postal:</label>
            <input type="text" id="shipPostalCode" placeholder="Código Postal" required>
        </div>

        <!-- Detalle: Productos -->
        <div class="detalle-productos">
            <h3>Productos</h3>
            <table id="tablaProductos">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Precio</th>
                        <th>Cantidad</th>
                        <th>Subtotal</th>
                        <th>Acción</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Filas dinámicas -->
                </tbody>
            </table>
            <button id="btnAgregarProducto">Agregar Producto</button>
            <!-- Panel auxiliar para agregar producto -->
            <div id="panelProducto" class="panel-aux" style="display:none;">
                <h3>Agregar Producto</h3>

                <label>ID Producto:</label>
                <input type="text" id="auxProductId" readonly>

                <label>Nombre:</label>
                <input type="text" id="auxProductName" readonly>

                <label>Precio Unitario:</label>
                <input type="text" id="auxUnitPrice" readonly>

                <label>Stock Disponible:</label>
                <input type="text" id="auxStock" readonly>

                <label>Cantidad:</label>
                <input type="number" id="auxQuantity" min="1" value="1">

                <button id="btnConfirmarAgregar">Agregar a la tabla</button>
            </div>
        </div>

        <!-- Total -->
        <div class="total-factura">
            <strong>Total: $<span id="totalFactura">0.00</span></strong>
        </div>
    </div>

    <!-- =======================
         Modal 1: Consulta de Clientes
         ======================= -->
    <div id="modalClientes" class="modal">
        <div class="modal-content">
            <span class="close" id="cerrarModalClientes">&times;</span>
            <h2>Buscar Cliente</h2>
            <input type="text" id="buscarCliente" placeholder="Nombre, Apellido, Email o Cedula">
            <button onclick="buscarClientes()">Buscar</button>
            <button onclick="verTodosClientes()">Ver todos</button>

            <table id="tablaClientes">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombres</th>
                        <th>Dirección</th>
                        <th>Email</th>
                        <th>Teléfono</th>
                        <th>Acción</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- =======================
         Modal 2: Consulta de Productos
         ======================= -->
    <div id="modalProductos" class="modal">
        <div class="modal-content">
            <span class="close" id="cerrarModalProductos">&times;</span>
            <h2>Búsqueda de Productos</h2>

            <div class="busqueda-productos">
                <input type="text" id="buscarProducto" placeholder="Nombre o ID">
                <button onclick="buscarProductos()">Buscar</button>
                <button onclick="verTodosProductos()">Ver Todos</button>
            </div>

            <table id="tablaProductosModal">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Precio</th>
                        <th>Stock</th>
                        <th>Seleccionar</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <button id="btnGuardar" onclick="guardarOrden()">Guardar Orden</button>


    <script src="js/JavaScript.js"></script>
</body>
</html>
