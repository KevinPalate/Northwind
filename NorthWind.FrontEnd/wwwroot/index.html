<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Facturación</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- =======================
         NAVBAR SUPERIOR
    ======================== -->
    <nav class="navbar">
        <ul>
            <li><a href="#" id="navDashboard">Dashboard</a></li>
            <li><a href="#" id="navFacturacion">Facturación</a></li>
            <li><a href="#" id="navVerFacturas">Ver Facturas</a></li>
        </ul>

        <button class="btn-nueva-orden" id="btnNuevaOrden">🛒 Nueva Orden 📦</button>
    </nav>

    <!-- =======================
         SECCIÓN: DASHBOARD
    ======================== -->
    <section id="dashboard" class="seccion">
        <h1>Bienvenido al Sistema de Facturación</h1>
        <p>Seleccione una opción en el menú para comenzar.</p>
    </section>

    <!-- =======================
         SECCIÓN: FACTURACIÓN
    ======================== -->
    <section id="facturacion" class="seccion" style="display:none;">
        <div class="facturacion">
            <h1>Facturación</h1>

            <!-- Maestro Cliente -->
            <div class="maestro-cliente">
                <h3>Cliente</h3>
                <label for="clienteNombre">Cliente:</label>

                <input type="text" id="clienteId" placeholder="Cédula del cliente" readonly>
                <input type="text" id="clienteNombre" placeholder="Nombres del cliente" readonly>
                <input type="text" id="clienteEmail" placeholder="Email del cliente" readonly>

                <button id="btnBuscarCliente">🔍 Buscar Cliente</button>
            </div>

            <!-- Datos de envío -->
            <div class="envio-container">
                <h3>Datos de Envío</h3>

                <label>Dirección:</label>
                <input type="text" id="shipAddress" style="width: 300px;" placeholder="Ej: Av. Amazonas 1234">

                <label>Ciudad:</label>
                <input type="text" id="shipCity" placeholder="Ej: Pelileo">

                <label>País:</label>
                <input type="text" id="shipCountry" placeholder="Ej: Ecuador">

                <label>Código Postal:</label>
                <input type="text" id="shipPostalCode" placeholder="Ej: 170143">
            </div>

            <!-- Productos -->
            <div class="detalle-productos">
                <h3>Productos</h3>

                <table id="tablaProductos">
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Precio</th>
                            <th>Cantidad</th>
                            <th>Subtotal</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>

                <div class="boton-container">
                    <button id="btnAgregarProducto">🏷️ Agregar Producto</button>
                </div>

                <!-- Panel Auxiliar -->
                <div id="panelProducto" class="panel-aux" style="display:none;">
                    <h3>Agregar Producto</h3>

                    <label>ID Producto:</label>
                    <input type="text" id="auxProductId" style="width: 50px;" readonly>

                    <label>Nombre:</label>
                    <input type="text" id="auxProductName" style="width: 300px;" readonly>

                    <label>Precio Unitario:</label>
                    <input type="text" id="auxUnitPrice" style="width: 50px;" readonly>

                    <label>Stock Disponible:</label>
                    <input type="text" id="auxStock" style="width: 50px;" readonly>

                    <label>Cantidad:</label>
                    <input type="number" id="auxQuantity" min="1" value="1" style="width: 50px;">

                    <button id="btnConfirmarAgregar">🏷️ Agregar a la tabla</button>
                </div>
            </div>

            <div class="total-factura">
                <strong>Total: $<span id="totalFactura">0.00</span></strong>
            </div>

            <div class="boton-container">
                <button id="btnGuardar">🧾 Guardar Orden</button>
            </div>
    </section>

    <!-- =======================
         SECCIÓN: VER FACTURAS
    ======================== -->
    <section id="verFacturas" class="seccion" style="display:none;">
        <h1>Facturas Registradas</h1>

        <input type="text" id="buscarFactura" placeholder="Buscar por ID, Cédula o Ciudad">

        <table id="tablaFacturas">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Cliente</th>
                    <th>Ciudad</th>
                    <th>Total</th>
                    <th>Acción</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </section>

    <!-- =======================
         MODAL CLIENTES
    ======================== -->
    <div id="modalClientes" class="modal">
        <div class="modal-content">
            <span class="close" id="cerrarModalClientes">&times;</span>
            <h2>Buscar Cliente</h2>
            <input type="text" id="buscarCliente" placeholder="Buscar por Cédula, Nombre, Apellido o Email">
            <button id="btnBuscarClienteModal">🔍 Buscar</button>
            <button id="btnVerTodosClientes">📋 Ver todos</button>

            <table id="tablaClientes">
                <thead>
                    <tr>
                        <th>Cédula</th>
                        <th>Nombres</th>
                        <th>Dirección</th>
                        <th>Email</th>
                        <th>Teléfono</th>
                        <th>Acción</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- =======================
         MODAL PRODUCTOS
    ======================== -->
    <div id="modalProductos" class="modal">
        <div class="modal-content">
            <span class="close" id="cerrarModalProductos">&times;</span>
            <h2>Búsqueda de Productos</h2>

            <input type="text" id="buscarProducto" placeholder="Buscar por ID o Nombre">
            <button id="btnBuscarProductoModal">🔍 Buscar</button>
            <button id="btnVerTodosProductos">📋 Ver Todos</button>

            <table id="tablaProductosModal">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Precio</th>
                        <th>Stock</th>
                        <th>Acción</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <!-- =======================
         MODAL DETALLE FACTURA
    ======================= -->
    <div id="modalFactura" class="modal">
        <div class="modal-content">
            <span class="close" id="cerrarModalFactura">&times;</span>
            <h2>Detalle de Factura</h2>

            <div id="infoFactura">
                <p><strong>Cliente:</strong> <span id="factCliente"></span></p>
                <p><strong>Dirección:</strong> <span id="factDireccion"></span></p>
                <p><strong>Ciudad:</strong> <span id="factCiudad"></span></p>
                <p><strong>País:</strong> <span id="factPais"></span></p>
                <p><strong>Fecha:</strong> <span id="factFecha"></span></p>
            </div>

            <table id="tablaDetalleFactura">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Precio Unitario</th>
                        <th>Cantidad</th>
                        <th>Subtotal</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <div style="text-align:right; margin-top:10px;">
                <strong>Total: $<span id="factTotal">0.00</span></strong>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/validaciones.js"></script>
    <script src="js/facturas.js"></script>
</body>
</html>